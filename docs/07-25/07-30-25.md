# Set Up OpenSSH in Windows 10/11

## Introduction -

- **Great point of reference was an Article by Chris Hastie - [Link](https://interworks.com/blog/2021/09/15/setting-up-ssh-agent-in-windows-for-passwordless-git-authentication/)**

- If there are other OpenSSH Clients installed in the system, it will give rise to conflicts (I don't know why even though the Path is already defined in bashrc).
  
  - Like if you have an OpenSSH thing installed in the system previously and you opt the Git installer's SSH client, it bites back in the Arse.

  - I wasn't able to fully understand why it doesn't work if we have a SSH server and client installed locally or globally under Win 32 Program files.

- I tried both with the Git's own SSH installed as a part of normal the installation through the GUI, after everything else failed - I started from a clean slate.

  - Uninstalled Git, SSH that was manually installed, its cache, literally anything associated with the core softwares in question here.

  - And Started from installing SSH by manually digging for a pre-build installer. It ended me up in a Grandfather Paradox situation as well.

- You could manually build the project from down below and which inturn becomes the installer.

- I was lazy and I didn't want to spend anymore time on this as already 4 days had passed at that point.

- The Loop starts from here - [openssh-portable](https://github.com/PowerShell/openssh-portable) . This houses the production of the Win32-OpenSSH. Ok that isn't a public release so let's. dig further.

  - [https://github.com/openssh/openssh-portable](https://github.com/openssh/openssh-portable) Oops, that's the Linux version. Wrong Lever.

  - [https://github.com/PowerShell/Win32-OpenSSH/releases](https://github.com/PowerShell/Win32-OpenSSH/releases) has a Pre-Built Installer - .msi. I don't if it is rid of the issues and is a public release or not.

    - I have raised an issue to the code owners, as a feature request.

## Main Event -

- Do not fall for the Chatgpt's luring of adding SSH as Feature, as it is not fully fledged as the OpenSSH OG Release. I don't even know what monstrosity is this even!!
```powershell
Add-WindowsCapability -Online -Name OpenSSH.Client~~~~0.0.1.0
````

- Additionally, That would just add to the Saga of chaos.

- Instead, install the openSSH client Server and Client by probably compiling the below package
[openssh](https://github.com/PowerShell/Win32-OpenSSH/releases) or find the installer with .msi file extension. 

- The .zip is the Source code, ready to be build - [instructions](https://github.com/PowerShell/Win32-OpenSSH/wiki/Building-OpenSSH-for-Windows-(using-LibreSSL-crypto)).

- **Better** - Configure the SSH server to start automatically on start up by -

```powershell
Start-Service sshd
```
- Then -

```powershell
Set-Service -Name sshd -StartupType 'Automatic'
````

- So That, we dont have to add the ssh keys to the SSH server every time the GIT Bash is opened.

- So that the key is automatically added and pulled on start up, ready to use, rather than ssh -T every time we want to pull or push changes to a remote repo via ssh.

- **IF** - The SSH command throws outs an error saying that "command is not found", it is likely that the SYSTEM PATH has not being set - [Instructions](https://github.com/PowerShell/Win32-OpenSSH/wiki/Install-Win32-OpenSSH-Using-MSI)

## Add Key to SSH Server and Github âœ…

### Generate a Key

### Add the Public Key to GitHub

### Add the Private Key to the SSH Server

### Verify the SSH Authentication in the local system -

``` bash
ssh -T git@github.com
```